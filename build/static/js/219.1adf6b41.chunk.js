"use strict";(self.webpackChunkrasilabs=self.webpackChunkrasilabs||[]).push([[219],{2219:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});var r=i(5336),s=i(5043),n=i(3216),l=i(7949),o=i(579);const a=()=>{const e=(0,n.Zp)(),[t,i]=(0,s.useState)(!1),[a,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),[h,g]=(0,s.useState)(!1),f=(0,s.useRef)(null),p=(0,s.useRef)(null),x=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});f.current&&(f.current.srcObject=e)}catch(e){console.error("Error accessing the camera: ",e)}};(0,s.useEffect)((()=>(x(),()=>{if(f.current){const e=f.current.srcObject,t=null===e||void 0===e?void 0:e.getTracks();null===t||void 0===t||t.forEach((e=>e.stop()))}})),[]);return(0,o.jsxs)("div",{style:{display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center",height:"100%",flexDirection:"column",backgroundColor:"#000716"},children:[!h&&(0,o.jsxs)("div",{style:{height:"88vh",width:"100%",backgroundColor:"#000716"},children:[(0,o.jsx)("video",{ref:f,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",position:"absolute",left:0,top:0}}),(0,o.jsx)("canvas",{ref:p,style:{display:"none"}})]}),h&&(0,o.jsx)("div",{style:{width:"100%",height:"88vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#000716"},children:(0,o.jsx)("img",{src:d,alt:"Captured",style:{width:"80%",height:"auto"}})}),(0,o.jsxs)("div",{className:"flex jcc aic",style:{width:"100%",gap:20,flexDirection:"column",height:"24vh",position:"absolute",bottom:0,background:"#000716"},children:[(0,o.jsx)(r.A,{onClick:()=>{if(h)u(null),g(!1),c(!1),x();else{if(f.current&&p.current){const e=p.current.getContext("2d");p.current.width=f.current.videoWidth,p.current.height=f.current.videoHeight,e.drawImage(f.current,0,0,p.current.width,p.current.height);const t=p.current.toDataURL("image/jpeg");u(t),c(!0),g(!0)}i(!0),setTimeout((()=>{i(!1)}),2e3)}},variant:"inline-link",fullWidth:!0,children:(0,o.jsx)("span",{style:{color:"#EAD72F"},children:h?"RETAKE PHOTO":"TAKE A PHOTO"})}),(0,o.jsx)("div",{style:{display:"flex",margin:"0 auto",width:"60%"},children:(0,o.jsx)(r.A,{disabled:!a,fullWidth:!0,variant:"primary",onClick:()=>e("/app/home/runsheet/${runsheetId}/customer-details/${order.id}/captured-verified"),children:"Verified"})})]}),t&&(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,o.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",textAlign:"center",width:"40%",maxWidth:"400px"},children:[(0,o.jsx)(l.A,{name:"status-positive",size:"big",variant:"success"}),(0,o.jsx)("h3",{style:{color:"#28a745"},children:"Photo Captured"})]})})]})}}}]);
//# sourceMappingURL=219.1adf6b41.chunk.js.map